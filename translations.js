const translations = {
    pt: {
        // Geral & Navega√ß√£o
        pageTitleIndex: "Cozinha de Hist√≥rias | Restaurante Nordestino",
        pageTitleCart: "Carrinho - Cozinha de Hist√≥rias",
        pageTitleReservation: "Fa√ßa sua Reserva - Cozinha de Hist√≥rias",
        navBrand: "Cozinha de Hist√≥rias",
        navHome: "In√≠cio",
        navAbout: "Sobre",
        navMenu: "Card√°pio",
        navGallery: "Galeria",
        navContact: "Contato",
        navCart: "Carrinho",
        navReserve: "Reservar",

        // Header (index.html)
        mainHeading: "Restaurante Nordestino",
        tagline: "O verdadeiro sabor da comida nordestina caseira",
        viewMenuBtn: "Ver Card√°pio",
        makeReservationBtn: "Fazer Reserva",

        // Sobre (index.html)
        aboutTitle: "Nossa Hist√≥ria",
        aboutText1: "H√° mais de 20 anos, Dona Maria trouxe do interior da Bahia os sabores aut√™nticos da culin√°ria nordestina para a cidade. O \"Cozinha de Hist√≥rias\" nasceu do desejo de compartilhar com todos o gostinho da comida caseira, feita com amor e ingredientes selecionados.",
        aboutText2: "Nossos pratos s√£o preparados seguindo receitas tradicionais, passadas de gera√ß√£o em gera√ß√£o, garantindo a autenticidade e o sabor inconfund√≠vel que remetem √†s cozinhas das m√£es nordestinas.",

        // Card√°pio (index.html)
        menuTitle: "Card√°pio",
        menuCatAll: "Todos",
        menuCatMain: "Pratos Principais",
        menuCatAppetizers: "Entradas",
        menuCatDesserts: "Sobremesas",
        menuCatDrinks: "Bebidas",
        addToCartBtn: "Adicionar ao carrinho",

        // Itens do Card√°pio
        pudimTitle: "Pudim de Leite Condensado",
        pudimDesc: "Pudim cremoso com calda de caramelo, receita tradicional.",
        moquecaTitle: "Moqueca de Peixe",
        moquecaDesc: "Peixe cozido no leite de coco com azeite de dend√™, piment√µes e coentro.",
        acarajeTitle: "Acaraj√©",
        acarajeDesc: "Bolinho de feij√£o-fradinho frito no azeite de dend√™, recheado com vatap√° e camar√£o.",
        camaraoMorangaTitle: "Camar√£o na Moranga",
        camaraoMorangaDesc: "Camar√µes cremosos servidos dentro da moranga assada, prato para compartilhar.",
        carnePanelaTitle: "Carne de Panela",
        carnePanelaDesc: "Carne macia cozida lentamente com legumes e temperos caseiros.",
        baiaoCompletoTitle: "Bai√£o Completo",
        baiaoCompletoDesc: "Bai√£o com carne de sol, queijo coalho e acompanhamentos da casa.",
        peixeAssadoTitle: "Peixe Assado",
        peixeAssadoDesc: "Peixe fresco assado com ervas, servido com arroz e salada.",
        bolinhoBacalhauTitle: "Bolinho de Bacalhau",
        bolinhoBacalhauDesc: "Cl√°ssico bolinho crocante por fora e macio por dentro.",
        escondidinhoTitle: "Escondidinho",
        escondidinhoDesc: "Creme de mandioca com recheio de carne seca desfiada e gratinada.",
        miniTapiocasTitle: "Mini Tapiocas",
        miniTapiocasDesc: "Tapiocas pequenas recheadas com queijo coalho e carne seca.",
        cocadaCremosaTitle: "Cocada Cremosa",
        cocadaCremosaDesc: "Cocada preparada com coco fresco e toque de leite condensado.",
        quindimTitle: "Quindim",
        quindimDesc: "Doce de gema e coco com textura aveludada e brilho caracter√≠stico.",
        caldoCanaTitle: "Caldo de Cana",
        caldoCanaDesc: "Suco de cana natural, gelado e refrescante.",
        batidaCocoTitle: "Batida de Coco",
        batidaCocoDesc: "Bebida cremosa √† base de coco ideal para acompanhar sobremesas.",
        cafeRapaduraTitle: "Caf√© com Rapadura",
        cafeRapaduraDesc: "Caf√© coado com rapadura derretida ‚Äî toque doce t√≠pico.",

        // Destaques (index.html)
        featuredDishesTitle: "Pratos em Destaque",
        
        // Galeria (index.html)
        galleryTitle: "Nossa Galeria",
        floatingReservationBtn: "Fa√ßa sua reserva",

        // Contato (index.html)
        contactTitle: "Entre em Contato",
        contactInfoTitle: "Informa√ß√µes",
        contactAddressTitle: "Endere√ßo",
        contactPhoneTitle: "Telefone",
        contactHoursTitle: "Hor√°rio de Funcionamento",
        contactHoursText: "Segunda a S√°bado: üïë 11h √†s 22h<br>üìÖ Domingo: üïë 11h √†s 17h",
        contactSocialTitle: "Redes Sociais",

        // Depoimentos (index.html)
        testimonialsTitle: "Depoimentos de Clientes",
        testimonial1: "\"Que experi√™ncia incr√≠vel! Os pratos s√£o aut√™nticos e deliciosos. A Moqueca de Peixe foi espetacular, com sabores que me transportaram ao litoral nordestino!\"",
        testimonial2: "\"O melhor restaurante nordestino que j√° visitei! O Bai√£o de Dois √© irresist√≠vel, e o atendimento √© atencioso e caloroso. Voltarei com certeza!\"",
        testimonial3: "\"Simplesmente maravilhoso! Cada prato √© uma obra de arte culin√°ria. O Carne de Sol com Macaxeira derreteu na boca. Recomendo para todos!\"",
        testimonial4: "\"Fant√°stico! O ambiente aconchegante e a comida de qualidade fazem deste um lugar perfeito. Voltei 3 vezes em um m√™s!\"",
        testimonial5: "\"Que lugar especial! Os sabores aut√™nticos da culin√°ria nordestina foram uma verdadeira descoberta. Toda a fam√≠lia amou!\"",

        // Footer
        footerText: "Cozinha de Hist√≥rias √© um projeto que celebra a rica culin√°ria nordestina, trazendo o sabor e a tradi√ß√£o de volta √† mesa.",
        footerTagline: "O verdadeiro sabor da comida nordestina caseira",
        footerCopyright: "&copy; 2025 Cozinha de Hist√≥rias. Todos os direitos reservados.",

        // Acessibilidade
        accessibilityLang: "Idioma / Language:",
        accessibilityTheme: "Tema / Theme:",
        accessibilityDarkMode: "üåô Modo Escuro",
        accessibilityLightMode: "‚òÄÔ∏è Modo Claro",

        // P√°gina de Reserva
        reservationTitle: "Fa√ßa sua Reserva",
        formFullName: "Nome Completo",
        formEmail: "E-mail",
        formPhone: "Telefone",
        formDate: "Data",
        formTime: "Hor√°rio",
        formGuests: "N√∫mero de Pessoas",
        formMessage: "Mensagem (Opcional)",
        formSubmitBtn: "Enviar Reserva",
        reservationConfirmMsg: "<strong>Reserva recebida!</strong> Obrigado, {name}.<br>Reserva para <strong>{guests}</strong> pessoa(s) em <strong>{date}</strong> √†s <strong>{time}</strong>.",
        reservationErrorMsg: "Por favor, preencha todos os campos obrigat√≥rios.",

        // P√°gina do Carrinho
        cartTitle: "Carrinho de Compras",
        summaryTitle: "Resumo do Pedido",
        summarySubtotal: "Subtotal:",
        summaryFee: "Taxa (0%):",
        summaryTotal: "Total:",
        paymentMethodTitle: "Forma de Pagamento",
        paymentPix: "PIX",
        paymentCard: "Cart√£o de Cr√©dito",
        finalizePurchaseBtn: "Finalizar Compra",
    },
    en: {
        // General & Navigation
        pageTitleIndex: "Cozinha de Hist√≥rias | Northeastern Restaurant",
        pageTitleCart: "Shopping Cart - Cozinha de Hist√≥rias",
        pageTitleReservation: "Make your Reservation - Cozinha de Hist√≥rias",
        navBrand: "Cozinha de Hist√≥rias",
        navHome: "Home",
        navAbout: "About",
        navMenu: "Menu",
        navGallery: "Gallery",
        navContact: "Contact",
        navCart: "Cart",
        navReserve: "Reserve",

        // Header (index.html)
        mainHeading: "Northeastern Restaurant",
        tagline: "The true taste of homemade northeastern food",
        viewMenuBtn: "View Menu",
        makeReservationBtn: "Make a Reservation",

        // About (index.html)
        aboutTitle: "Our Story",
        aboutText1: "For over 20 years, Dona Maria brought the authentic flavors of northeastern cuisine from the interior of Bahia to the city. \"Cozinha de Hist√≥rias\" was born from the desire to share with everyone the taste of homemade food, made with love and selected ingredients.",
        aboutText2: "Our dishes are prepared following traditional recipes, passed down from generation to generation, ensuring the authenticity and unmistakable flavor that harks back to the kitchens of northeastern mothers.",

        // Menu (index.html)
        menuTitle: "Menu",
        menuCatAll: "All",
        menuCatMain: "Main Courses",
        menuCatAppetizers: "Appetizers",
        menuCatDesserts: "Desserts",
        menuCatDrinks: "Drinks",
        addToCartBtn: "Add to cart",

        // Menu Items
        pudimTitle: "Condensed Milk Pudding",
        pudimDesc: "Creamy pudding with caramel sauce, a traditional recipe.",
        moquecaTitle: "Fish Moqueca",
        moquecaDesc: "Fish cooked in coconut milk with palm oil, peppers, and cilantro.",
        acarajeTitle: "Acaraj√©",
        acarajeDesc: "Black-eyed pea fritter fried in palm oil, stuffed with vatap√° and shrimp.",
        camaraoMorangaTitle: "Shrimp in a Pumpkin",
        camaraoMorangaDesc: "Creamy shrimp served inside a roasted pumpkin, a dish to share.",
        carnePanelaTitle: "Pot Roast",
        carnePanelaDesc: "Tender beef slow-cooked with vegetables and homemade spices.",
        baiaoCompletoTitle: "Complete Bai√£o",
        baiaoCompletoDesc: "Bai√£o with sun-dried meat, curd cheese, and house side dishes.",
        peixeAssadoTitle: "Roasted Fish",
        peixeAssadoDesc: "Fresh fish roasted with herbs, served with rice and salad.",
        bolinhoBacalhauTitle: "Codfish Cake",
        bolinhoBacalhauDesc: "Classic crispy cake on the outside and soft on the inside.",
        escondidinhoTitle: "Shepherd's Pie (Escondidinho)",
        escondidinhoDesc: "Cassava cream with a filling of shredded dried meat, au gratin.",
        miniTapiocasTitle: "Mini Tapiocas",
        miniTapiocasDesc: "Small tapiocas filled with curd cheese and dried meat.",
        cocadaCremosaTitle: "Creamy Cocada",
        cocadaCremosaDesc: "Cocada made with fresh coconut and a touch of condensed milk.",
        quindimTitle: "Quindim",
        quindimDesc: "Yolk and coconut sweet with a velvety texture and characteristic shine.",
        caldoCanaTitle: "Sugarcane Juice",
        caldoCanaDesc: "Natural, cold, and refreshing sugarcane juice.",
        batidaCocoTitle: "Coconut Shake",
        batidaCocoDesc: "Creamy coconut-based drink, ideal to accompany desserts.",
        cafeRapaduraTitle: "Coffee with Rapadura",
        cafeRapaduraDesc: "Brewed coffee with melted rapadura ‚Äî a typical sweet touch.",

        // Featured (index.html)
        featuredDishesTitle: "Featured Dishes",

        // Gallery (index.html)
        galleryTitle: "Our Gallery",
        floatingReservationBtn: "Make your reservation",

        // Contact (index.html)
        contactTitle: "Get in Touch",
        contactInfoTitle: "Information",
        contactAddressTitle: "Address",
        contactPhoneTitle: "Phone",
        contactHoursTitle: "Opening Hours",
        contactHoursText: "Monday to Saturday: üïë 11am to 10pm<br>üìÖ Sunday: üïë 11am to 5pm",
        contactSocialTitle: "Social Media",

        // Testimonials (index.html)
        testimonialsTitle: "Customer Testimonials",
        testimonial1: "\"What an incredible experience! The dishes are authentic and delicious. The Fish Moqueca was spectacular, with flavors that transported me to the northeastern coast!\"",
        testimonial2: "\"The best northeastern restaurant I've ever visited! The Bai√£o de Dois is irresistible, and the service is attentive and warm. I will definitely be back!\"",
        testimonial3: "\"Simply wonderful! Each dish is a culinary work of art. The Carne de Sol com Macaxeira melted in my mouth. I recommend it to everyone!\"",
        testimonial4: "\"Fantastic! The cozy atmosphere and quality food make this a perfect place. I've been back 3 times in one month!\"",
        testimonial5: "\"What a special place! The authentic flavors of northeastern cuisine were a true discovery. The whole family loved it!\"",

        // Footer
        footerText: "Cozinha de Hist√≥rias is a project that celebrates the rich northeastern cuisine, bringing the flavor and tradition back to the table.",
        footerTagline: "The true taste of homemade northeastern food",
        footerCopyright: "&copy; 2025 Cozinha de Hist√≥rias. All rights reserved.",

        // Accessibility
        accessibilityLang: "Idioma / Language:",
        accessibilityTheme: "Tema / Theme:",
        accessibilityDarkMode: "üåô Dark Mode",
        accessibilityLightMode: "‚òÄÔ∏è Light Mode",

        // Reservation Page
        reservationTitle: "Make your Reservation",
        formFullName: "Full Name",
        formEmail: "E-mail",
        formPhone: "Phone",
        formDate: "Date",
        formTime: "Time",
        formGuests: "Number of Guests",
        formMessage: "Message (Optional)",
        formSubmitBtn: "Submit Reservation",
        reservationConfirmMsg: "<strong>Reservation received!</strong> Thank you, {name}.<br>Reservation for <strong>{guests}</strong> person(s) on <strong>{date}</strong> at <strong>{time}</strong>.",
        reservationErrorMsg: "Please fill in all required fields.",

        // Cart Page
        cartTitle: "Shopping Cart",
        summaryTitle: "Order Summary",
        summarySubtotal: "Subtotal:",
        summaryFee: "Fee (0%):",
        summaryTotal: "Total:",
        paymentMethodTitle: "Payment Method",
        paymentPix: "PIX",
        paymentCard: "Credit Card",
        finalizePurchaseBtn: "Finalize Purchase",
    },
    es: {
        // General y Navegaci√≥n
        pageTitleIndex: "Cozinha de Hist√≥rias | Restaurante Nordestino",
        pageTitleCart: "Carrito - Cozinha de Hist√≥rias",
        pageTitleReservation: "Haga su Reserva - Cozinha de Hist√≥rias",
        navBrand: "Cozinha de Hist√≥rias",
        navHome: "Inicio",
        navAbout: "Sobre",
        navMenu: "Men√∫",
        navGallery: "Galer√≠a",
        navContact: "Contacto",
        navCart: "Carrito",
        navReserve: "Reservar",

        // Encabezado (index.html)
        mainHeading: "Restaurante Nordestino",
        tagline: "El verdadero sabor de la comida casera del nordeste",
        viewMenuBtn: "Ver Men√∫",
        makeReservationBtn: "Hacer una Reserva",

        // Sobre (index.html)
        aboutTitle: "Nuestra Historia",
        aboutText1: "Hace m√°s de 20 a√±os, Do√±a Maria trajo de Bah√≠a los sabores aut√©nticos de la cocina nordestina a la ciudad. \"Cozinha de Hist√≥rias\" naci√≥ del deseo de compartir con todos el sabor de la comida casera, hecha con amor e ingredientes seleccionados.",
        aboutText2: "Nuestros platos se preparan siguiendo recetas tradicionales, pasadas de generaci√≥n en generaci√≥n, garantizando la autenticidad y el sabor inconfundible que remiten a las cocinas de las madres del nordeste.",

        // Men√∫ (index.html)
        menuTitle: "Men√∫",
        menuCatAll: "Todos",
        menuCatMain: "Platos Principales",
        menuCatAppetizers: "Entrantes",
        menuCatDesserts: "Postres",
        menuCatDrinks: "Bebidas",
        addToCartBtn: "A√±adir al carrito",

        // Items del Men√∫
        pudimTitle: "Pud√≠n de Leche Condensada",
        pudimDesc: "Pud√≠n cremoso con salsa de caramelo, receta tradicional.",
        moquecaTitle: "Moqueca de Pescado",
        moquecaDesc: "Pescado cocido en leche de coco con aceite de palma, pimientos y cilantro.",
        acarajeTitle: "Acaraj√©",
        acarajeDesc: "Bu√±uelo de frijol carita frito en aceite de palma, relleno de vatap√° y camarones.",
        camaraoMorangaTitle: "Camarones en Calabaza",
        camaraoMorangaDesc: "Camarones cremosos servidos dentro de una calabaza asada, un plato para compartir.",
        carnePanelaTitle: "Carne a la Olla",
        carnePanelaDesc: "Carne tierna cocida a fuego lento con verduras y especias caseras.",
        baiaoCompletoTitle: "Bai√£o Completo",
        baiaoCompletoDesc: "Bai√£o con carne de sol, queso coalho y guarniciones de la casa.",
        peixeAssadoTitle: "Pescado Asado",
        peixeAssadoDesc: "Pescado fresco asado con hierbas, servido con arroz y ensalada.",
        bolinhoBacalhauTitle: "Bu√±uelo de Bacalao",
        bolinhoBacalhauDesc: "Cl√°sico bu√±uelo crujiente por fuera y tierno por dentro.",
        escondidinhoTitle: "Escondidinho",
        escondidinhoDesc: "Crema de yuca con relleno de carne seca desmenuzada y gratinada.",
        miniTapiocasTitle: "Mini Tapiocas",
        miniTapiocasDesc: "Peque√±as tapiocas rellenas de queso coalho y carne seca.",
        cocadaCremosaTitle: "Cocada Cremosa",
        cocadaCremosaDesc: "Cocada preparada con coco fresco y un toque de leche condensada.",
        quindimTitle: "Quindim",
        quindimDesc: "Dulce de yema y coco con textura aterciopelada y brillo caracter√≠stico.",
        caldoCanaTitle: "Jugo de Ca√±a",
        caldoCanaDesc: "Jugo de ca√±a natural, fr√≠o y refrescante.",
        batidaCocoTitle: "Batido de Coco",
        batidaCocoDesc: "Bebida cremosa a base de coco, ideal para acompa√±ar postres.",
        cafeRapaduraTitle: "Caf√© con Rapadura",
        cafeRapaduraDesc: "Caf√© colado con rapadura derretida ‚Äî un toque dulce t√≠pico.",

        // Destacados (index.html)
        featuredDishesTitle: "Platos Destacados",

        // Galer√≠a (index.html)
        galleryTitle: "Nuestra Galer√≠a",
        floatingReservationBtn: "Haga su reserva",

        // Contacto (index.html)
        contactTitle: "Ponerse en Contacto",
        contactInfoTitle: "Informaci√≥n",
        contactAddressTitle: "Direcci√≥n",
        contactPhoneTitle: "Tel√©fono",
        contactHoursTitle: "Horario de Apertura",
        contactHoursText: "Lunes a S√°bado: üïë 11h a 22h<br>üìÖ Domingo: üïë 11h a 17h",
        contactSocialTitle: "Redes Sociales",

        // Testimonios (index.html)
        testimonialsTitle: "Testimonios de Clientes",
        testimonial1: "\"¬°Qu√© experiencia incre√≠ble! Los platos son aut√©nticos y deliciosos. La Moqueca de Pescado fue espectacular, ¬°con sabores que me transportaron a la costa nordestina!\"",
        testimonial2: "\"¬°El mejor restaurante nordestino que he visitado! El Bai√£o de Dois es irresistible, y el servicio es atento y c√°lido. ¬°Volver√© sin duda!\"",
        testimonial3: "\"¬°Simplemente maravilloso! Cada plato es una obra de arte culinaria. La Carne de Sol con Macaxeira se deshizo en la boca. ¬°Lo recomiendo a todos!\"",
        testimonial4: "\"¬°Fant√°stico! El ambiente acogedor y la comida de calidad hacen de este un lugar perfecto. ¬°He vuelto 3 veces en un mes!\"",
        testimonial5: "\"¬°Qu√© lugar tan especial! Los sabores aut√©nticos de la cocina nordestina fueron un verdadero descubrimiento. ¬°A toda la familia le encant√≥!\"",

        // Pie de p√°gina
        footerText: "Cozinha de Hist√≥rias es un proyecto que celebra la rica cocina nordestina, devolviendo el sabor y la tradici√≥n a la mesa.",
        footerTagline: "El verdadero sabor de la comida casera del nordeste",
        footerCopyright: "&copy; 2025 Cozinha de Hist√≥rias. Todos los derechos reservados.",

        // Accesibilidad
        accessibilityLang: "Idioma / Language:",
        accessibilityTheme: "Tema / Theme:",
        accessibilityDarkMode: "üåô Modo Oscuro",
        accessibilityLightMode: "‚òÄÔ∏è Modo Claro",

        // P√°gina de Reserva
        reservationTitle: "Haga su Reserva",
        formFullName: "Nombre Completo",
        formEmail: "Correo Electr√≥nico",
        formPhone: "Tel√©fono",
        formDate: "Fecha",
        formTime: "Hora",
        formGuests: "N√∫mero de Personas",
        formMessage: "Mensaje (Opcional)",
        formSubmitBtn: "Enviar Reserva",
        reservationConfirmMsg: "<strong>¬°Reserva recibida!</strong> Gracias, {name}.<br>Reserva para <strong>{guests}</strong> persona(s) el <strong>{date}</strong> a las <strong>{time}</strong>.",
        reservationErrorMsg: "Por favor, rellene todos los campos obligatorios.",

        // P√°gina del Carrito
        cartTitle: "Carrito de Compras",
        summaryTitle: "Resumen del Pedido",
        summarySubtotal: "Subtotal:",
        summaryFee: "Tasa (0%):",
        summaryTotal: "Total:",
        paymentMethodTitle: "Forma de Pago",
        paymentPix: "PIX",
        paymentCard: "Tarjeta de Cr√©dito",
        finalizePurchaseBtn: "Finalizar Compra",
    }
};

function changeLanguage(lang) {
    localStorage.setItem('language', lang);
    applyTranslations(lang);
}

function applyTranslations(lang) {
    if (!translations[lang]) {
        console.error(`Language ${lang} not supported.`);
        return;
    }

    document.querySelectorAll('[data-translate-key]').forEach(element => {
        const key = element.getAttribute('data-translate-key');
        if (translations[lang][key]) {
            // Handle special cases like placeholders or value attributes
            if (element.tagName === 'INPUT' && element.placeholder) {
                element.placeholder = translations[lang][key];
            } else {
                element.innerHTML = translations[lang][key];
            }
        }
    });

    // Translate page title
    const pageKey = document.body.getAttribute('data-page-key');
    if (pageKey && translations[lang][pageKey]) {
        document.title = translations[lang][pageKey];
    }

    // Update theme button text
    const themeBtn = document.getElementById('themeBtn');
    if (themeBtn) {
        const isDarkMode = document.body.classList.contains('dark-mode');
        themeBtn.innerHTML = isDarkMode ? translations[lang].accessibilityLightMode : translations[lang].accessibilityDarkMode;
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language') || 'pt';
    applyTranslations(savedLang);

    // Set active language button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        if (btn.getAttribute('onclick') === `changeLanguage('${savedLang}')`) {
            btn.classList.add('active');
        } else {
            btn.classList.remove('active');
        }
    });
});

// Override the original function to add translation logic
const originalMenuShow = window.menuShow;
window.menuShow = function() {
    if (typeof originalMenuShow === 'function') {
        originalMenuShow();
    }
    // Ensure mobile menu items are translated
    const currentLang = localStorage.getItem('language') || 'pt';
    applyTranslations(currentLang);
}

const originalToggleDarkMode = window.toggleDarkMode;
window.toggleDarkMode = function() {
    if (typeof originalToggleDarkMode === 'function') {
        originalToggleDarkMode();
    }
    // Ensure theme button text is translated after toggling
    const currentLang = localStorage.getItem('language') || 'pt';
    applyTranslations(currentLang);
}